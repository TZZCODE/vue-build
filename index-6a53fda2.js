import{d as b,g as y,n as k,v as c,i as F,f,a as s,w as n,r as l,o as S,u as m,L as C,M as I,b as B,p as N,e as R,k as U,E as _,_ as q}from"./index-9e02f54d.js";const E=t=>(N("data-v-e3af3ce1"),t=t(),R(),t),M={class:"login_wrap"},z={class:"content"},L=E(()=>f("h2",{class:"title"},"登录",-1)),T=b({__name:"index",setup(t){const u=y(),g=U(),p=k(),o=c({name:"admin",password:"admin"}),w=c({name:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),v=()=>{u.login(o.name,o.password).then(()=>{u.token?(_({type:"success",message:"登录成功"}),g.push("/")):_({type:"error",message:"账号或密码错误"})})},x=d=>{d&&d.validate((e,a)=>{e?v():console.log("error submit!",a)})};return(d,e)=>{const a=l("el-input"),i=l("el-form-item"),h=l("el-button"),V=l("el-form");return S(),F("div",M,[f("div",z,[L,s(V,{ref_key:"ruleFormRef",ref:p,"validate-on-rule-change":"",model:o,rules:w,"label-width":"0",class:"demo-ruleForm",size:"default"},{default:n(()=>[s(i,{prop:"name"},{default:n(()=>[s(a,{placeholder:"用户名",modelValue:o.name,"onUpdate:modelValue":e[0]||(e[0]=r=>o.name=r),"prefix-icon":m(C)},null,8,["modelValue","prefix-icon"])]),_:1}),s(i,{prop:"password"},{default:n(()=>[s(a,{modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=r=>o.password=r),type:"password",placeholder:"密码","prefix-icon":m(I),"show-password":""},null,8,["modelValue","prefix-icon"])]),_:1}),s(h,{class:"login",type:"primary",onClick:e[2]||(e[2]=r=>x(p.value))},{default:n(()=>[B(" 登录 ")]),_:1})]),_:1},8,["model","rules"])])])}}});const j=q(T,[["__scopeId","data-v-e3af3ce1"]]);export{j as default};
